(function(){"use strict";var e={4034:function(e,t,n){var r=n(9242),i=(n(7658),n(7139)),a=(0,i.MT)({state:{cart:{items:[]}},getters:{},mutations:{addItem(e,t){e.cart.items.push(t)},reset(e){e.cart.items.length=0}},actions:{}}),s=n(3396);function c(e,t,n,r,i,a){const c=(0,s.up)("NavBar"),o=(0,s.up)("ContentLayout");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(c),(0,s.Wm)(o)],64)}const o={class:"navbar"},u={class:"navbar__wrapper"};function d(e,t,n,r,i,a){const c=(0,s.up)("CartLayout");return(0,s.wg)(),(0,s.iD)("header",null,[(0,s._)("div",o,[(0,s._)("div",u,[(0,s.Wm)(c)])])])}var l=n(2268),m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHeSURBVHgB1ZVPbtNAFMa/5z8lYkHMlibBPQHpgrQ70hP0CHAEblA4AcoJgBuUJTsvowQJ34AppIgdLivUsefxxk1S09hp41qV+pOSeS8zyvdm3jc2cN+hReB3n78yoITYJOnsS4SGWAps9QbfmBHmCfNIz6av0QDOIjj/PtmBy7sSKpDTRkM4xUSracwgBZgdNIR39QcCn8j3od/de49amERrPcKvWJUKzAmkDweoA9FT3/f7GjgoFZBGK5LW69kkRA28zuANER0tcmelAMckeRD0A9SB8AzEcaWAySgXaD1+2F5Xpd8d8OLzoLdXsDTJ8eJsuXalAHKVyCDV59ZJJ2UC5PExp3RZlGuiyw2Yvgh8rBTwPKgss72gEBVYO8sQr0yEcqyZ3YG1+gUOGsRLW307MmXVPfirxsqO4oQQG8JkcmMQX/SxVGCOWJVfYEMc8KEd9el0uYPyi0Y0kka9sw7BhsgdevtfXrXQ6+wPxR9DbIQTpbNxhLvErZqQy3Tktrc/+EGHsrPTMdbg9wYv3Ufbx277SWj+/PxcnCs/IvGzn239nmdK/5isfXxLMV/l7HOLwvBuscnlLlJxIu+FKI+ZP+EayKH85opIXPzza2mF++FN1wbhsN7D8bb8A/lln8oc8wxtAAAAAElFTkSuQmCC";const v=e=>((0,s.dD)("data-v-e3d4e770"),e=e(),(0,s.Cn)(),e),p=v((()=>(0,s._)("img",{src:m,class:"cart__icon",alt:"cart"},null,-1))),A={class:"cart__sum"};function _(e,t,n,r,i,a){const c=(0,s.up)("RedBudge");return(0,s.wg)(),(0,s.iD)("div",{class:"cart",onClick:t[0]||(t[0]=(...t)=>e.reset&&e.reset(...t))},[p,(0,s._)("span",A,(0,l.zw)(e.nws(e.sumPrice))+" $",1),(0,s.Wm)(c,{value:e.itemCount},null,8,["value"])])}function g(e){return(new Intl.NumberFormat).format(e)}function f(e,t,n,r,i,a){return(0,s.wg)(),(0,s.iD)("div",{class:(0,l.C_)({budge_cube:"cube"===n.type,budge:"cube"!=n.type})},[(0,s._)("span",null,(0,l.zw)("undefined"!==n.value?n.value:""),1)],2)}var w={name:"RedBudge",props:{value:{required:!1},type:{type:String,required:!1}}},h=n(89);const b=(0,h.Z)(w,[["render",f],["__scopeId","data-v-34998480"]]);var y=b,C=(0,s.aZ)({name:"CartLayout",components:{RedBudge:y},setup(){const e=(0,i.oR)(),t=g,n=()=>{e.commit("reset")},r=(0,s.Fl)((()=>e.state.cart.items.length)),a=(0,s.Fl)((()=>e.state.cart.items.reduce(((e,t)=>t?t.discountPercentage?e+Math.round(t.price-t.discountPercentage*t.price/100):e+Math.round(t.price):e),0)));return{sumPrice:a,itemCount:r,reset:n,nws:t}}});const k=(0,h.Z)(C,[["render",_],["__scopeId","data-v-e3d4e770"]]);var B=k,D={name:"NavBar",components:{CartLayout:B}};const S=(0,h.Z)(D,[["render",d]]);var P=S;const R={class:"container"},E={key:0,class:"content"},I=(0,s._)("h3",{class:"content__title"},"Новинки",-1),L={class:"content__items"},H={key:1,class:"content__load"},x={key:2,class:"content__load"};function Z(e,t,n,r,i,a){const c=(0,s.up)("ItemCard"),o=(0,s.up)("LoadSpinner");return(0,s.wg)(),(0,s.iD)("section",null,[(0,s._)("div",R,[e.items?((0,s.wg)(),(0,s.iD)("div",E,[I,(0,s._)("div",L,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.items,(e=>((0,s.wg)(),(0,s.j4)(c,{key:e.id,item:e},null,8,["item"])))),128))])])):(0,s.kq)("",!0),e.items||e.error?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",H,[(0,s.Wm)(o)])),e.error?((0,s.wg)(),(0,s.iD)("div",x,[(0,s._)("h2",null,(0,l.zw)(e.error),1)])):(0,s.kq)("",!0)])])}var O=n(4870),T="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAPCAYAAAACsSQRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE5SURBVHgBpVLLTcNAEJ3ZhRwiH0wFLCQN0IFNCiBUAFSAqAA6IFQAdGBOHEgwHeA7P3fg8AlISN5hlhhj7LUtkSdZ65198zRvZgBa8DJWwzaOaHpMLpWSKE9hEZHljvT4cF+v+t6/RZBo/5skaKeRV/dgrHQ68im7Tj9Furbix9NakbdJb5c0qbw8gatEoBDBKxADAIpTDc95TGDsDB7OlsxFivSGUIYmMSeUaiSAoZESvw0IuiId5ZX8YDbpHzH9EFpAgAfO4H70x04RxhoHj/nXLb9xdbFGse34d1ExXpmO8cjkCCzQmi7KAlYRMxXujWcTQUTrqCsi2YJlSRRxQ/eMjSxkXTxhCWyZk5NPupuPG3N7qc/Vnc8ZuiJSwfv1+m3dmpumz8a9oFEgCZVL/DVxPkKlkhLnC4OraMFqzvjyAAAAAElFTkSuQmCC";const F=e=>((0,s.dD)("data-v-c02fcf20"),e=e(),(0,s.Cn)(),e),Q={key:0,class:"card"},j={class:"card__preview"},Y={class:"card__rating"},z={class:"card__rating_stars"},M={class:"card__rating_stars-number"},N={class:"card__title"},U={class:"card__price-info"},X={class:"card__price-info_discount-wrapper"},K={key:0,class:"card__price-info_discount"},W={class:"card__price-info_discount_old-price"},q=F((()=>(0,s._)("div",{class:"card__price-info_discount-line"},null,-1)));function V(e,t,n,r,i,a){const c=(0,s.up)("hover-slider"),o=(0,s.up)("RedBudge"),u=(0,s.up)("BButton");return e.item?((0,s.wg)(),(0,s.iD)("div",Q,[(0,s._)("div",j,[(0,s.Wm)(c,{images:e.item.images},null,8,["images"])]),(0,s._)("div",Y,[(0,s._)("div",z,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(new Array(e.itemRating),((e,t)=>((0,s.wg)(),(0,s.iD)("img",{src:T,alt:"star",key:t})))),128))]),(0,s._)("span",M,(0,l.zw)(e.itemRating),1)]),(0,s._)("div",N,(0,l.zw)(e.item.title),1),(0,s._)("div",U,[(0,s._)("div",X,[e.item.discountPercentage>0?((0,s.wg)(),(0,s.iD)("div",K,[(0,s._)("div",W,[(0,s._)("span",null,(0,l.zw)(e.nws(Math.round(e.item.price)))+" $",1),q]),(0,s.Wm)(o,{value:`– ${Math.round(e.item.discountPercentage)}%`,type:"cube"},null,8,["value"])])):(0,s.kq)("",!0)]),(0,s._)("div",{class:(0,l.C_)(["card__price-info_current-price",{"card__price-info_current-price_hot":e.item.discountPercentage}])},(0,l.zw)(e.nws(e.currentPrice))+" $ ",3)]),(0,s.Wm)(u,{value:"В корзину",class:"card_buybutton",onClick:e.addItem},null,8,["onClick"])])):(0,s.kq)("",!0)}const G={class:"bbtn"};function J(e,t,n,r,i,a){return(0,s.wg)(),(0,s.iD)("button",G,(0,l.zw)(n.value),1)}var $={name:"BButton",props:{value:{type:String,required:!1}}};const ee=(0,h.Z)($,[["render",J],["__scopeId","data-v-752a3c3f"]]);var te=ee;const ne={class:"hover-slider"},re={ref:"sensor",class:(0,l.C_)("hover-slider__sensor")},ie=["id","onPointerenter"],ae={ref:"parent",class:(0,l.C_)("hover-slider__layout")},se=["src","alt"];function ce(e,t,n,r,i,a){return(0,s.wg)(),(0,s.iD)("div",ne,[(0,s._)("span",re,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.images,((n,r)=>((0,s.wg)(),(0,s.iD)("div",{key:r,id:r,class:(0,l.C_)(["hover-slider__sensor_item",{"hover-slider__sensor_item_active":e.current===r&&e.images.length>1}]),onPointerenter:()=>e.onEnter(r),onTouchmove:t[0]||(t[0]=t=>e.onTouch(t))},null,42,ie)))),128))],512),(0,s._)("div",ae,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.images,((t,n)=>((0,s.wg)(),(0,s.iD)("div",{key:n,class:(0,l.C_)(["hover-slider__item",{"hover-slider__active":e.current===n}])},[(0,s._)("img",{src:t,alt:n},null,8,se)],2)))),128))],512)])}var oe=(0,s.aZ)({name:"HoverSlider",props:{images:{type:Array,requared:!0}},setup(e){const t=(0,O.iH)(0),n=(0,O.iH)(),r=(0,O.iH)(),i="hover-slider__active",a="hover-slider__sensor_item_active",s=s=>{e.images.length<=1||(n.value.children[t.value].classList.remove(i),r.value.children[t.value].classList.remove(a),t.value=s,n.value.children[s].classList.add(i),r.value.children[s].classList.add(a))},c=e=>{const n=e.changedTouches[0],i=document.elementFromPoint(n.clientX,n.clientY);if(r.value.contains(i)){const e=Number(i.id);e>-1&&t.value!==e&&s(e)}};return{parent:n,sensor:r,current:t,onEnter:s,onTouch:c}}});const ue=(0,h.Z)(oe,[["render",ce],["__scopeId","data-v-1106c6da"]]);var de=ue,le=(0,s.aZ)({name:"ItemCard",components:{BButton:te,RedBudge:y,HoverSlider:de},props:{item:{type:Object,required:!0}},setup(e){const t=(0,i.oR)(),n=(0,s.Fl)((()=>Math.round(e.item.rating))),r=(0,s.Fl)((()=>{let t=e.item.price;return e.item.discountPercentage&&(t=e.item.price-e.item.discountPercentage*e.item.price/100),Math.round(t)})),a=g,c=()=>{t.commit("addItem",e.item)};return{currentPrice:r,itemRating:n,addItem:c,nws:a}}});const me=(0,h.Z)(le,[["render",V],["__scopeId","data-v-c02fcf20"]]);var ve=me;const pe={class:"loader"};function Ae(e,t,n,r,i,a){return(0,s.wg)(),(0,s.iD)("div",pe)}var _e={name:"LoadSpinner"};const ge=(0,h.Z)(_e,[["render",Ae],["__scopeId","data-v-364e00ea"]]);var fe=ge,we=(0,s.aZ)({name:"ContentLayout",components:{ItemCard:ve,LoadSpinner:fe},setup(){const e=(0,O.iH)(),t=(0,O.iH)(),n=async()=>{const n="https://dummyjson.com/products?limit=10";let r=await fetch(n);if(r.ok){let t=await r.json();t.products[0].discountPercentage=0,t.products[0].title="Lorem ipsum dolor sit amet consectetur adipisicing elit. Lorem ipsum dolor sit amet consectetur adipisicing elit. ",t.products[2].discountPercentage=0,t.products[4].title="Супер длинное название, чтобы не влезало в эту сроку, однако этого может не достаточно ;) ",e.value=t.products}else t.value="Error: "+r.status};return(0,s.wF)((()=>{const e=1e3*Math.random();setTimeout((()=>{n()}),e)})),{items:e,error:t}}});const he=(0,h.Z)(we,[["render",Z]]);var be=he,ye={name:"App",components:{NavBar:P,ContentLayout:be}};const Ce=(0,h.Z)(ye,[["render",c]]);var ke=Ce;(0,r.ri)(ke).use(a).mount("#app")}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,r,i,a){if(!r){var s=1/0;for(d=0;d<e.length;d++){r=e[d][0],i=e[d][1],a=e[d][2];for(var c=!0,o=0;o<r.length;o++)(!1&a||s>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[o])}))?r.splice(o--,1):(c=!1,a<s&&(s=a));if(c){e.splice(d--,1);var u=i();void 0!==u&&(t=u)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[r,i,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,a,s=r[0],c=r[1],o=r[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(i in c)n.o(c,i)&&(n.m[i]=c[i]);if(o)var d=o(n)}for(t&&t(r);u<s.length;u++)a=s[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},r=self["webpackChunkmediateh_task"]=self["webpackChunkmediateh_task"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(4034)}));r=n.O(r)})();
//# sourceMappingURL=app.6f5aadab.js.map